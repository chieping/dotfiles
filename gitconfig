# vim: set ft=gitconfig noet ci pi sts=0 sw=4 ts=4 :
[user]
[init]
	templatedir = ~/.git_templates
[core]
	excludesfile = ~/.gitignore
	pager = $DIFF_HIGHLIGHT | less
	quotepath = false
	precomposeunicode = true
[pager]
	log  = $DIFF_HIGHLIGHT | less
	show = $DIFF_HIGHLIGHT | less
	diff = $DIFF_HIGHLIGHT | less
[color]
	ui = auto
[alias]
	br = branch
	ci = commit
	st = status
	co = checkout
	b = browse
	tree = log --graph --all --format=\"%x09%C(cyan bold)%an%Creset%x09%C(yellow)%h%Creset %C(magenta reverse)%d%Creset %s\"
	tre = !git tree
	tr = !git tree
	d = diff
	dc = diff --cached
	di = diff
	dic = diff --cached
	dp = diff HEAD@{1}..HEAD
	do = !git diff HEAD..origin/`git rev-parse --abbrev-ref HEAD`
	mo = !git merge --ff-only origin/`git rev-parse --abbrev-ref HEAD`
	publish = !git push -u origin \"$(git rev-parse --abbrev-ref HEAD)\"
	setc = !git config user.name chieping && git config user.email takashi.honda.01@gmail.com && echo "user.name: `git config user.name`" && echo "user.email: `git config user.email`"
	seta = !git config user.name 'Takashi Honda' && git config user.email takashi.honda@axisware.co.jp && echo "user.name: `git config user.name`" && echo "user.email: `git config user.email`"
	sets = !git config user.name '[Lac] Takashi Honda' && git config user.email xTakashi.Honda@jp.sony.com && echo "user.name: `git config user.name`" && echo "user.email: `git config user.email`"
	oops = commit --amend --reset-author
	squash = !sh -c 'git commit -m \"squash! $(git log -1 --format='\\''%s'\\'' $@)\"' -
	fixup = !sh -c 'git commit -m \"fixup! $(git log -1 --format='\\''%s'\\'' $@)\"' -
	delete-merged-branches = !git branch --merged | egrep -v '\\*|master|develop' | xargs git branch -d
	up = !git remote update -p && git merge --ff-only @{u}
	# find-merge-commit prints merge commit hash from a specific commit or branch
	find-merge-commit = !bash -c 'git rev-list $1..${2:-master} --ancestry-path | grep -f <(git rev-list $1..${2:-master} --first-parent) | tail -1' -
[push]
	default = simple

[credential]
# FIXME make compatible with mac and linux
#	helper = /opt/boxen/bin/boxen-git-credential

[hub]
	protocol = https
[ghq]
	root = ~/src

[diff]
	tool = p4merge
	algorithm = histogram
[difftool]
	prompt = false
[difftool "p4merge"]
	path = /Applications/p4merge.app/Contents/Resources/launchp4merge
[merge]
	tool = p4merge
[mergetool "p4merge"]
	path = /Applications/p4merge.app/Contents/Resources/launchp4merge
	trustExitCode = false

[color "diff"]
	meta = black cyan
[rebase]
	autosquash = true
[svn]
	rmdir = true
